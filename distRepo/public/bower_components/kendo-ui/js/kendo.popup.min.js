/**
 * Copyright 2015 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e){function t(t,n){return t===n||e.contains(t,n)}var n=window.kendo,i=n.ui,o=i.Widget,r=n.support,a=n.getOffset,s="open",l="close",c="deactivate",d="activate",u="center",h="left",f="right",p="top",g="bottom",m="absolute",v="hidden",_="body",w="location",y="position",b="visible",x="effects",k="k-state-active",C="k-state-border",S=/k-state-border-(\w+)/,T=".k-picker-wrap, .k-dropdown-wrap, .k-link",D="down",A=e(document.documentElement),P=e(window),E="scroll",M="resize scroll",I=r.transitions.css,B=I+"transform",z=e.extend,L=".kendoPopup",F=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],R=o.extend({init:function(t,i){var r,a=this;i=i||{},i.isRtl&&(i.origin=i.origin||g+" "+f,i.position=i.position||p+" "+f),o.fn.init.call(a,t,i),t=a.element,i=a.options,a.collisions=i.collision?i.collision.split(" "):[],a.downEvent=n.applyEventMap(D,n.guid()),1===a.collisions.length&&a.collisions.push(a.collisions[0]),r=e(a.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),i.appendTo=e(e(i.appendTo)[0]||r[0]||_),a.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!i.isRtl).css({position:m}).appendTo(i.appendTo).on("mouseenter"+L,function(){a._hovered=!0}).on("mouseleave"+L,function(){a._hovered=!1}),a.wrapper=e(),i.animation===!1&&(i.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),z(i.animation.open,{complete:function(){a.wrapper.css({overflow:b}),a._activated=!0,a._trigger(d)}}),z(i.animation.close,{complete:function(){a._animationClose()}}),a._mousedownProxy=function(e){a._mousedown(e)},a._resizeProxy=function(e){a._resize(e)},i.toggleTarget&&e(i.toggleTarget).on(i.toggleEvent+L,e.proxy(a.toggle,a))},events:[s,d,l,c],options:{name:"Popup",toggleEvent:"click",origin:g+" "+h,position:p+" "+h,anchor:_,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var t,i,o,r,a=this,s=a.options;a.wrapper.hide(),t=a.wrapper.data(w),i=e(s.anchor),t&&a.wrapper.css(t),s.anchor!=_&&(o=((i.attr("class")||"").match(S)||["","down"])[1],r=C+"-"+o,i.removeClass(r).children(T).removeClass(k).removeClass(r),a.element.removeClass(C+"-"+n.directions[o].reverse)),a._closing=!1,a._trigger(c)},destroy:function(){var t,i=this,r=i.options,a=i.element.off(L);o.fn.destroy.call(i),r.toggleTarget&&e(r.toggleTarget).off(L),r.modal||(A.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(E,i._resizeProxy),P.unbind(M,i._resizeProxy)),n.destroy(i.element.children()),a.removeData(),r.appendTo[0]===document.body&&(t=a.parent(".k-animation-container"),t[0]?t.remove():a.remove())},open:function(t,i){var o,a,l,c=this,d={isFixed:!isNaN(parseInt(i,10)),x:t,y:i},u=c.element,h=c.options,f="down",g=e(h.anchor),w=u[0]&&u.hasClass("km-widget");if(!c.visible()){if(h.copyAnchorStyles&&(w&&"font-size"==F[0]&&F.shift(),u.css(n.getComputedStyles(g[0],F))),u.data("animating")||c._trigger(s))return;c._activated=!1,h.modal||(A.unbind(c.downEvent,c._mousedownProxy).bind(c.downEvent,c._mousedownProxy),r.mobileOS.ios||r.mobileOS.android||(c._scrollableParents().unbind(E,c._resizeProxy).bind(E,c._resizeProxy),P.unbind(M,c._resizeProxy).bind(M,c._resizeProxy))),c.wrapper=a=n.wrap(u,h.autosize).css({overflow:v,display:"block",position:m}),r.mobileOS.android&&a.css(B,"translatez(0)"),a.css(y),e(h.appendTo)[0]==document.body&&a.css(p,"-10000px"),o=z(!0,{},h.animation.open),c.flipped=c._position(d),o.effects=n.parseEffects(o.effects,c.flipped),f=o.effects.slideIn?o.effects.slideIn.direction:f,h.anchor!=_&&(l=C+"-"+f,u.addClass(C+"-"+n.directions[f].reverse),g.addClass(l).children(T).addClass(k).addClass(l)),u.data(x,o.effects).kendoStop(!0).kendoAnimate(o)}},toggle:function(){var e=this;e[e.visible()?l:s]()},visible:function(){return this.element.is(":"+b)},close:function(t){var i,o,r,a,s=this,c=s.options;if(s.visible()){if(i=s.wrapper[0]?s.wrapper:n.wrap(s.element).hide(),s._closing||s._trigger(l))return;s.element.find(".k-popup").each(function(){var n=e(this),i=n.data("kendoPopup");i&&i.close(t)}),A.unbind(s.downEvent,s._mousedownProxy),s._scrollableParents().unbind(E,s._resizeProxy),P.unbind(M,s._resizeProxy),t?o={hide:!0,effects:{}}:(o=z(!0,{},c.animation.close),r=s.element.data(x),a=o.effects,!a&&!n.size(a)&&r&&n.size(r)&&(o.effects=r,o.reverse=!0),s._closing=!0),s.element.kendoStop(!0),i.css({overflow:v}),s.element.kendoAnimate(o)}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_mousedown:function(i){var o=this,r=o.element[0],a=o.options,s=e(a.anchor)[0],l=a.toggleTarget,c=n.eventTarget(i),d=e(c).closest(".k-popup"),u=d.parent().parent(".km-shim").length;d=d[0],(u||!d||d===o.element[0])&&"popover"!==e(i.target).closest("a").data("rel")&&(t(r,c)||t(s,c)||l&&t(e(l)[0],c)||o.close())},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i},_flip:function(e,t,n,i,o,r,a){var s=0;return a=a||t,r!==o&&r!==u&&o!==u&&(e+a>i&&(s+=-(n+t)),0>e+s&&(s+=n+t)),s},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){var i=n.getComputedStyles(t,["overflow"]);return"visible"!=i.overflow})},_position:function(t){var n,i,o,s,l,c,d,u,h,f,p=this,g=p.element.css(y,""),v=p.wrapper,_=p.options,b=e(_.viewport),x=b.offset(),k=e(_.anchor),C=_.origin.toLowerCase().split(" "),S=_.position.toLowerCase().split(" "),T=p.collisions,D=r.zoomLevel(),A=10002,P=!!(b[0]==window&&window.innerWidth&&1.02>=D),E=0,M=P?window.innerWidth:b.width(),I=P?window.innerHeight:b.height(),B=k.parents().filter(v.siblings());if(B[0])if(i=Math.max(+B.css("zIndex"),0))A=i+10;else for(n=k.parentsUntil(B),o=n.length;o>E;E++)i=+e(n[E]).css("zIndex"),i&&i>A&&(A=i+10);return v.css("zIndex",A),v.css(t&&t.isFixed?{left:t.x,top:t.y}:p._align(C,S)),s=a(v,y,k[0]===v.offsetParent()[0]),l=a(v),c=k.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),c.length&&(s=a(v,y,!0),l=a(v)),b[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=x.top,l.left-=x.left),p.wrapper.data(w)||v.data(w,z({},s)),d=z({},l),u=z({},s),h=_.adjustSize,"fit"===T[0]&&(u.top+=p._fit(d.top,v.outerHeight()+h.height,I/D)),"fit"===T[1]&&(u.left+=p._fit(d.left,v.outerWidth()+h.width,M/D)),f=z({},u),"flip"===T[0]&&(u.top+=p._flip(d.top,g.outerHeight(),k.outerHeight(),I/D,C[0],S[0],v.outerHeight())),"flip"===T[1]&&(u.left+=p._flip(d.left,g.outerWidth(),k.outerWidth(),M/D,C[1],S[1],v.outerWidth())),g.css(y,m),v.css(u),u.left!=f.left||u.top!=f.top},_align:function(t,n){var i,o=this,r=o.wrapper,s=e(o.options.anchor),l=t[0],c=t[1],d=n[0],h=n[1],p=a(s),m=e(o.options.appendTo),v=r.outerWidth(),_=r.outerHeight(),w=s.outerWidth(),y=s.outerHeight(),b=p.top,x=p.left,k=Math.round;return m[0]!=document.body&&(i=a(m),b-=i.top,x-=i.left),l===g&&(b+=y),l===u&&(b+=k(y/2)),d===g&&(b-=_),d===u&&(b-=k(_/2)),c===f&&(x+=w),c===u&&(x+=k(w/2)),h===f&&(x-=v),h===u&&(x-=k(v/2)),{top:b,left:x}}});i.plugin(R)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});