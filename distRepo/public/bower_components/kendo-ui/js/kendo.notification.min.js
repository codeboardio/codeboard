/**
 * Copyright 2015 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,define){define(["./kendo.core.min","./kendo.popup.min"],e)}(function(){return function(e,t){var n=window.kendo,i=n.ui.Widget,o=e.proxy,r=e.extend,a=window.setTimeout,s="click",l="show",c="hide",d="k-notification",h=".k-notification-wrap .k-i-close",u="info",f="success",p="warning",g="error",m="top",v="left",_="bottom",w="right",y="up",b=".kendoNotification",x='<div class="k-widget k-notification"></div>',k='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>',C=i.extend({init:function(t,o){var r=this;i.fn.init.call(r,t,o),o=r.options,o.appendTo&&e(o.appendTo).is(t)||r.element.hide(),r._compileTemplates(o.templates),r._guid="_"+n.guid(),r._isRtl=n.support.isRtl(t),r._compileStacking(o.stacking,o.position.top),n.notify(r)},events:[l,c],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(t){var i=this,o=n.template;i._compiled={},e.each(t,function(t,n){i._compiled[n.type]=o(n.template||e("#"+n.templateId).html())}),i._defaultCompiled=o(k)},_getCompiled:function(e){var t=this,n=t._defaultCompiled;return e?t._compiled[e]||n:n},_compileStacking:function(e,t){var n,i,o=this,r={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};switch(e){case"down":n=_+" "+v,i=m+" "+v,delete r.paddingBottom;break;case w:n=m+" "+w,i=m+" "+v,delete r.paddingRight;break;case v:n=m+" "+v,i=m+" "+w,delete r.paddingLeft;break;case y:n=m+" "+v,i=_+" "+v,delete r.paddingTop;break;default:null!==t?(n=_+" "+v,i=m+" "+v,delete r.paddingBottom):(n=m+" "+v,i=_+" "+v,delete r.paddingTop)}o._popupOrigin=n,o._popupPosition=i,o._popupPaddings=r},_attachPopupEvents:function(e,t){function n(e){e.on(s+b,function(){t.close()})}var i,o=e.allowHideAfter,r=!isNaN(o)&&o>0;e.hideOnClick?t.bind("activate",function(){r?a(function(){n(t.element)},o):n(t.element)}):e.button&&(i=t.element.find(h),r?a(function(){n(i)},o):n(i))},_showPopup:function(t,i){var o,s,l=this,c=i.autoHideAfter,d=i.position.left,u=i.position.top;s=e("."+l._guid).last(),o=new n.ui.Popup(t,{anchor:s[0]?s:document.body,origin:l._popupOrigin,position:l._popupPosition,animation:i.animation,modal:!0,collision:"",isRtl:l._isRtl,close:function(){l._triggerHide(this.element)},deactivate:function(e){e.sender.element.off(b),e.sender.element.find(h).off(b),e.sender.destroy()}}),l._attachPopupEvents(i,o),s[0]?o.open():(null===d&&(d=e(window).width()-t.width()-i.position.right),null===u&&(u=e(window).height()-t.height()-i.position.bottom),o.open(d,u)),o.wrapper.addClass(l._guid).css(r({margin:0},l._popupPaddings)),i.position.pinned?(o.wrapper.css("position","fixed"),s[0]&&l._togglePin(o.wrapper,!0)):s[0]||l._togglePin(o.wrapper,!1),c>0&&a(function(){o.close()},c)},_togglePin:function(t,n){var i=e(window),o=n?-1:1;t.css({top:parseInt(t.css(m),10)+o*i.scrollTop(),left:parseInt(t.css(v),10)+o*i.scrollLeft()})},_attachStaticEvents:function(e,t){function n(e){e.on(s+b,o(i._hideStatic,i,t))}var i=this,r=e.allowHideAfter,l=!isNaN(r)&&r>0;e.hideOnClick?l?a(function(){n(t)},r):n(t):e.button&&(l?a(function(){n(t.find(h))},r):n(t.find(h)))},_showStatic:function(e,t){var n=this,i=t.autoHideAfter,o=t.animation,r=t.stacking==y||t.stacking==v?"prependTo":"appendTo";e.addClass(n._guid)[r](t.appendTo).hide().kendoAnimate(o.open||!1),n._attachStaticEvents(t,e),i>0&&a(function(){n._hideStatic(e)},i)},_hideStatic:function(e){e.kendoAnimate(r(this.options.animation.close||!1,{complete:function(){e.off(b).find(h).off(b),e.remove()}})),this._triggerHide(e)},_triggerHide:function(e){this.trigger(c,{element:e}),this.angular("cleanup",function(){return{elements:e}})},show:function(i,o){var a,s,c=this,h=c.options,f=e(x);return o||(o=u),null!==i&&i!==t&&""!==i&&(n.isFunction(i)&&(i=i()),s={typeIcon:o,content:""},a=e.isPlainObject(i)?r(s,i):r(s,{content:i}),f.addClass(d+"-"+o).toggleClass(d+"-button",h.button).attr("data-role","alert").css({width:h.width,height:h.height}).append(c._getCompiled(o)(a)),c.angular("compile",function(){return{elements:f,data:[{dataItem:a}]}}),e(h.appendTo)[0]?c._showStatic(f,h):c._showPopup(f,h),c.trigger(l,{element:f})),c},info:function(e){return this.show(e,u)},success:function(e){return this.show(e,f)},warning:function(e){return this.show(e,p)},error:function(e){return this.show(e,g)},hide:function(){var t=this,n=t.getNotifications();return n.each(t.options.appendTo?function(n,i){t._hideStatic(e(i))}:function(t,n){var i=e(n).data("kendoPopup");i&&i.close()}),t},getNotifications:function(){var t=this,n=e("."+t._guid);return t.options.appendTo?n:n.children("."+d)},setOptions:function(e){var n,o=this;i.fn.setOptions.call(o,e),n=o.options,e.templates!==t&&o._compileTemplates(n.templates),(e.stacking!==t||e.position!==t)&&o._compileStacking(n.stacking,n.position.top)},destroy:function(){i.fn.destroy.call(this),this.getNotifications().off(b).find(h).off(b)}});n.ui.plugin(C)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});